(function(p,O){typeof exports=="object"&&typeof module<"u"?O(exports,require("knockout")):typeof define=="function"&&define.amd?define(["exports","knockout"],O):(p=typeof globalThis<"u"?globalThis:p||self,O(p.KnockoutDecorator={},p.ko))})(this,function(p,O){"use strict";function D(i){const k=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(i){for(const m in i)if(m!=="default"){const v=Object.getOwnPropertyDescriptor(i,m);Object.defineProperty(k,m,v.get?v:{enumerable:!0,get:()=>i[m]})}}return k.default=i,Object.freeze(k)}const F=D(O);/*!
 * Knockout decorator
 * (c) vario
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */p.KnockoutDecorator=void 0,(i=>{function k(e){let t;if(typeof e=="function")t={pureComputed:!0};else{t=e;let n={pureComputed:!0};if(!t)t=n;else for(let s in n)t[s]===void 0&&(t[s]=n[s])}function r(n){var s,o;let l=h.Get(n);const a=(o=class extends n{constructor(...d){super(...d),this[s]=`kd${n.name}`;let u=this,P=Object.keys(u),g=P.length;for(let b=0;b<g;++b){let f=P[b];if(f===c.Key||l.isIgnoreProperty(f)||S(u,f)||E(u,f))continue;let y=u[f];delete u[f],Array.isArray(y)?I(a.prototype,f):v(a.prototype,f),u[f]=y}let T=Object.keys(n.prototype),x=[];g=T.length;for(let b=0;b<g;++b){let f=T[b],y=Object.getOwnPropertyDescriptor(n.prototype,f);if(!y||!y.get||l.isIgnoreProperty(f)||(u[f],w(u,f)))continue;j({pure:t.pureComputed})(a.prototype,f,y),Object.defineProperty(a.prototype,f,y),x.push(f)}g=x.length;for(let b=0;b<g;++b)u[x[b]];t.init&&typeof u[t.init]=="function"&&u[t.init]()}},s=Symbol.toStringTag,o);return Object.defineProperty(a,"name",{get:()=>`kd${n.name}`}),a}return typeof e=="function"?r(e):function(n){return r(n)}}i.track=k;function m(e,t){h.Get(e).pushIgnoreProperty(t)}i.ignore=m;function v(e,t){Object.defineProperty(e,t,{get:function(){return c.Get(this).makeObservable(t),this[t]},set:function(r){c.Get(this).makeObservable(t),this[t]=r}})}i.observable=v;function I(e,t){Object.defineProperty(e,t,{get:function(){return c.Get(this).makeObservableArray(t),this[t]},set:function(r){c.Get(this).makeObservableArray(t),this[t]=r}})}i.observableArray=I;function q(){if(arguments.length==1)return j(arguments[0]);j(null).apply(this,arguments)}i.computed=q;function $(e,t,r){j({pure:!0})(e,t,r)}i.pureComputed=$;function z(e){return(t,r,n)=>{h.Get(t).pushKoExtend(r,e)}}i.extend=z;function C(e){return(t,r)=>{h.Get(t).pushSetFilter(r,e)}}i.setFilter=C;function B(e,t){h.Get(e).pushSetFilter(t,r=>!r||typeof r=="number"?r:(r=parseFloat(r),isNaN(r)?0:r))}i.asNumber=B;function J(e){return C(t=>t<e?e:t)}i.min=J;function L(e){return C(t=>t>e?e:t)}i.max=L;function Q(e,t){if(e>t){let r=e;e=t,t=r}return C(r=>(r<e?r=e:r>t&&(r=t),r))}i.clamp=Q;function S(){if(typeof arguments[0]=="function"){G=null,arguments[0]();let e=G;return G=null,e}else{let e=arguments[0],t=arguments[1];return c.Get(e).getObservable(t)}}i.getObservable=S;function E(){if(typeof arguments[0]=="function"){K=null,arguments[0]();let e=K;return G=null,e}else{let e=arguments[0],t=arguments[1];return c.Get(e).getObservableArray(t)}}i.getObservableArray=E;function w(){if(typeof arguments[0]=="function"){H=null,arguments[0]();let e=H;return H=null,e}else{let e=arguments[0],t=arguments[1];return c.Get(e).getComputed(t)}}i.getComputed=w;function j(e){return(t,r,n)=>{let s=n.get;if(!s)throw"@Computed and @pureComputed require getter.";let o=n.set;n.get=function(){return c.Get(this).makeComputed(r,s,o,e),this[r]},o&&(n.set=function(l){c.Get(this).makeComputed(r,s,o,e),this[r]=l})}}let G=null,K=null,H=null;const A=class{static Get(e){return e=typeof e=="function"?e.prototype:e,e[A.Key]||(e[A.Key]=new this),e[A.Key]}pushIgnoreProperty(e){this.ignoreProperties||(this.ignoreProperties=[]),this.ignoreProperties.push(e)}isIgnoreProperty(e){return this.ignoreProperties!=null&&this.ignoreProperties.indexOf(e)!=-1}pushKoExtend(e,t){this.extendsHash||(this.extendsHash={}),this.extendsHash[e]||(this.extendsHash[e]=[]),this.extendsHash[e].push(t)}applyKoExtend(e,t){if(!this.extendsHash)return;let r=this.extendsHash[e];if(!r)return;let n=r.length;for(let s=0;s<n;++s)t.extend(r[s])}pushSetFilter(e,t){this.setFiltersHash||(this.setFiltersHash={});let r=this.setFiltersHash[e];r||(r=this.setFiltersHash[e]=[]),r.push(t)}getSetter(e,t){if(!this.setFiltersHash)return t;let r=this.setFiltersHash[e];if(!r)return t;let n=r.length;return s=>{for(let o=0;o<n;++o)s=r[o](s);t(s)}}constructor(){}};let h=A;h.Key="__vtKnockoutDecoratorClassInfo__";const _=class{constructor(e){this.koObservableHash={},this.koObservableArrayHash={},this.koComputedHash={},this.target=e}static Get(e){return e[_.Key]||(e[_.Key]=new this(e)),e[_.Key]}makeObservable(e){let t=F.observable();this.koObservableHash[e]=t;let r=Object.getPrototypeOf(this.target),n=h.Get(r);n.applyKoExtend(e,t),h.Get(r),Object.defineProperty(this.target,e,{get:()=>(G=t,t()),set:n.getSetter(e,t)})}makeObservableArray(e){function t(l,a){let d={};["splice","pop","push","shift","unshift","reverse","sort"].forEach(u=>{d[u]=l[u];let P=function(){l[u]=d[u];let g=a[u].apply(a,arguments);return l[u]=P,g};l[u]=P})}function r(l,a){["replace","remove","removeAll","destroy","destroyAll"].forEach(d=>{l[d]=function(){return a[d].apply(a,arguments)}})}let n=F.observableArray();this.koObservableArrayHash[e]=n;let s=Object.getPrototypeOf(this.target),o=h.Get(s);o.applyKoExtend(e,n),h.Get(s),Object.defineProperty(this.target,e,{get:()=>(K=n,n()),set:function(l){l&&(t(l,n),r(l,n)),o.getSetter(e,n)(l)}})}makeComputed(e,t,r,n){let s={read:t,write:r,owner:this.target};if(n)for(let d in n)s[d]=n[d];let o=F.computed(s);this.koComputedHash[e]=o;let l=Object.getPrototypeOf(this.target),a=h.Get(l);a.applyKoExtend(e,o),Object.defineProperty(this.target,e,{get:()=>(H=o,o()),set:r!=null?a.getSetter(e,o):void 0})}getObservable(e){return this.koObservableHash[e]}getObservableArray(e){return this.koObservableArrayHash[e]}getComputed(e){return this.koComputedHash[e]}};let c=_;c.Key="__vtKnockoutDecoratorObjInfo__"})(p.KnockoutDecorator||(p.KnockoutDecorator={}));const M=p.KnockoutDecorator;p.default=M,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
