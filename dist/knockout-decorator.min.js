/*!
 * Knockout decorator
 * (c) vario
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(t){if(window&&void 0!==window.require&&"object"==typeof module&&"object"==typeof module.exports){var e=t(require,exports);void 0!==e&&(module.exports=e)}else"function"==typeof define&&define.amd?define(["require","exports"],t):window.KnockoutDecorator=t()}(function(t,e){"use strict";var r;return function(t){function r(t){function e(t){var e=k.Get(t),n=function(){t.apply(this,arguments);for(var u=this,s=Object.keys(u),a=s.length,p=0;p<a;++p){var f=s[p];if(!(f===x.Key||e.isIgnoreProperty(f)||y(u,f)||v(u,f))){var c=u[f];delete u[f],Array.isArray(c)?i(n.prototype,f):o(n.prototype,f),u[f]=c}}var h=Object.keys(t.prototype),l=[];a=h.length;for(var g=0;g<a;++g){var m=h[g],O=Object.getOwnPropertyDescriptor(t.prototype,m);if(O&&O.get&&!e.isIgnoreProperty(m)){u[m];d(u,m)||(b({pure:r.pureComputed})(n.prototype,m,O),Object.defineProperty(n.prototype,m,O),l.push(m))}}a=l.length;for(var k=0;k<a;++k)u[l[k]];r.init&&"function"==typeof u[r.init]&&u[r.init](),r.initializeMethod&&"function"==typeof u[r.initializeMethod]&&u[r.initializeMethod]()};return n.prototype=t.prototype,n}var r;if("function"==typeof t)r={pureComputed:!0,initializeMethod:null};else{var n={pureComputed:!0,initializeMethod:null,init:null};if(r=t)for(var u in n)void 0===r[u]&&(r[u]=n[u]);else r=n}return"function"==typeof t?e(t):function(t){return e(t)}}function n(t,e){k.Get(t).pushIgnoreProperty(e)}function o(t,e){Object.defineProperty(t,e,{get:function(){return x.Get(this).makeObservable(e),this[e]},set:function(t){x.Get(this).makeObservable(e),this[e]=t}})}function i(t,e){Object.defineProperty(t,e,{get:function(){return x.Get(this).makeObservableArray(e),this[e]},set:function(t){x.Get(this).makeObservableArray(e),this[e]=t}})}function u(){if(1==arguments.length)return b(arguments[0]);b(null).apply(this,arguments)}function s(t,e,r){b({pure:!0})(t,e,r)}function a(t){return function(e,r,n){k.Get(e).pushKoExtend(r,t)}}function p(t){return function(e,r){k.Get(e).pushSetFilter(r,t)}}function f(t,e){k.Get(t).pushSetFilter(e,function(t){return t&&"number"!=typeof t?(t=parseFloat(t),isNaN(t)?0:t):t})}function c(t){return p(function(e){return e<t?t:e})}function h(t){return p(function(e){return e>t?t:e})}function l(t,e){if(t>e){var r=t;t=e,e=r}return p(function(r){return r<t?r=t:r>e&&(r=e),r})}function y(){if("function"==typeof arguments[0]){g=null,arguments[0]();var t=g;return g=null,t}var e=arguments[0],r=arguments[1];return x.Get(e).getObservable(r)}function v(){if("function"==typeof arguments[0])return m=null,arguments[0](),g=null,m;var t=arguments[0],e=arguments[1];return x.Get(t).getObservableArray(e)}function d(){if("function"==typeof arguments[0]){O=null,arguments[0]();var t=O;return O=null,t}var e=arguments[0],r=arguments[1];return x.Get(e).getComputed(r)}function b(t){return function(e,r,n){var o=n.get;if(!o)throw"@Computed and @pureComputed require getter.";var i=n.set;n.get=function(){return x.Get(this).makeComputed(r,o,i,t),this[r]},i&&(n.set=function(e){x.Get(this).makeComputed(r,o,i,t),this[r]=e})}}t.track=r,t.ignore=n,t.observable=o,t.observableArray=i,t.computed=u,t.pureComputed=s,t.extend=a,t.setFilter=p,t.asNumber=f,t.min=c,t.max=h,t.clamp=l,t.getObservable=y,t.getObservableArray=v,t.getComputed=d;var g=null,m=null,O=null,k=function(){function t(){}return t.Get=function(e){return(e="function"==typeof e?e.prototype:e)[t.Key]||(e[t.Key]=new this),e[t.Key]},t.prototype.pushIgnoreProperty=function(t){this.ignoreProperties||(this.ignoreProperties=[]),this.ignoreProperties.push(t)},t.prototype.isIgnoreProperty=function(t){return this.ignoreProperties&&-1!=this.ignoreProperties.indexOf(t)},t.prototype.pushKoExtend=function(t,e){this.extendsHash||(this.extendsHash={}),this.extendsHash[t]||(this.extendsHash[t]=[]),this.extendsHash[t].push(e)},t.prototype.applyKoExtend=function(t,e){if(this.extendsHash){var r=this.extendsHash[t];if(r)for(var n=r.length,o=0;o<n;++o)e.extend(r[o])}},t.prototype.pushSetFilter=function(t,e){this.setFiltersHash||(this.setFiltersHash={});var r=this.setFiltersHash[t];r||(r=this.setFiltersHash[t]=[]),r.push(e)},t.prototype.getSetter=function(t,e){if(!this.setFiltersHash)return e;var r=this.setFiltersHash[t];if(!r)return e;var n=r.length;return function(t){for(var o=0;o<n;++o)t=r[o](t);e(t)}},t}();k.Key="__vtKnockoutDecoratorClassInfo__";var x=function(){function t(t){this.koObservableHash={},this.koObservableArrayHash={},this.koComputedHash={},this.target=t}return t.Get=function(e){return e[t.Key]||(e[t.Key]=new this(e)),e[t.Key]},t.prototype.makeObservable=function(t){var e=ko.observable();this.koObservableHash[t]=e;var r=Object.getPrototypeOf(this.target),n=k.Get(r);n.applyKoExtend(t,e),k.Get(r),Object.defineProperty(this.target,t,{get:function(){return g=e,e()},set:n.getSetter(t,e)})},t.prototype.makeObservableArray=function(t){function e(t,e){var r={};["splice","pop","push","shift","unshift","reverse","sort"].forEach(function(n){r[n]=t[n];var o=function(){t[n]=r[n];var i=e[n].apply(e,arguments);return t[n]=o,i};t[n]=o})}function r(t,e){["replace","remove","removeAll","destroy","destroyAll"].forEach(function(r){t[r]=function(){return e[r].apply(e,arguments)}})}var n=ko.observableArray();this.koObservableArrayHash[t]=n;var o=Object.getPrototypeOf(this.target),i=k.Get(o);i.applyKoExtend(t,n),k.Get(o),Object.defineProperty(this.target,t,{get:function(){return m=n,n()},set:function(o){o&&(e(o,n),r(o,n)),i.getSetter(t,n)(o)}})},t.prototype.makeComputed=function(t,e,r,n){var o={read:e,write:r,owner:this.target};if(n)for(var i in n)o[i]=n[i];var u=ko.computed(o);this.koComputedHash[t]=u;var s=Object.getPrototypeOf(this.target),a=k.Get(s);a.applyKoExtend(t,u),Object.defineProperty(this.target,t,{get:function(){return O=u,u()},set:r?a.getSetter(t,u):void 0})},t.prototype.getObservable=function(t){return this.koObservableHash[t]},t.prototype.getObservableArray=function(t){return this.koObservableArrayHash[t]},t.prototype.getComputed=function(t){return this.koComputedHash[t]},t}();x.Key="__vtKnockoutDecoratorObjInfo__",void 0!==e&&(module.exports=t,module.exports.default=t)}(r||(r={})),r});
//# sourceMappingURL=knockout-decorator.min.js.map
